## 性能优化指标

- 根据 chrome 最新规则，前端性能优化指标主要有 **FCP(First Contenful Paint)**, **LCP(Largest Contentfull Paint)**, **TBT(Total Block Time)**, **CLS(Cumulative Layout Shift)**, **SI(Speed index)**


### FCP(First Contenful Paint)

- FCP（首次内容绘制）：是指页面从开始加载到页面绘制第一个内容的时间。

- 可以通过以下方式优化 FCP 时间：

  1. 降低服务器响应时间：保证服务器的响应速度，例如使用 CDN 。
  2. 异步加载 script ：使用 async/defer 。

- 理想的 FCP 应该控制在 1.8s 以内


### LCP(Largest Contentfull Paint)

- LCP（最大内容绘制）：是指页面从开始加载到视窗内最大元素完成绘制的时间

- 理想的 LCP 应该控制在 2.5s 以内

### TBT(Total Block Time)

- TBT（总阻塞时间）：用于衡量长任务对主线程的阻塞时间总和。即从 FCP（首次内容绘制） 到 TTI（页面可交互时间），主线程因运行长任务被阻塞的总时间。

- 可以通过以下方式减少 TBT 时间：

  1. 减轻第三方代码的影响
  2. 缩短 JavaScript 的执行时间
  3. 减少主线程的工作量
  4. 控制请求数量和数据大小

- 理想情况下 TBT 在移动设备上应该控制在 300ms 以下，在 web 设备上应该控制在 100ms 以下。

### SI(Speed index)

- SI（速度指数）：用户衡量页面渲染用户可见内容的迅速程度。SI 并不是一个具体的时间点，而是一个综合性能指标。他表示页面从加载开始到页面基本可见的过程中，用户感知的加载速度。

- 一般来说，移动设备上 SI 低于 3.4s ，桌面端低于 1.3s ，LightHouse 的评分能在 90 分以上。


## 性能优化方案

### 优化方案

- **1. 启用前端缓存**


- **2. Gzip 压缩**


- **3. 节流函数和防抖函数**


- **4. 异步加载 script 标签**


- **5. 减少重排和重绘**


- **6. 使用合适格式的图片，字体文件使用 woff2 压缩**


- **7. 合并请求，避免接口重复调用，接口数据添加缓存**


- **8. 启用事件委托（事件代理）**


- **9. 使用懒加载**


- **10. 骨架屏**